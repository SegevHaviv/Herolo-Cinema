(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,n){e.exports=n(392)},389:function(e,t,n){},392:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(31),o=n.n(i),l=n(10),c=n(11),s=n(14),u=n(12),d=n(15),m=n(17),v=n.n(m),p=n(20),h=n(395),f=n(397),b=n(19),E=n(13),O="ADD_MOVIE",g="ADD_MOVIES_LIST",y="REMOVE_MOVIE",j="TOGGLE_IS_FETCHING",M="UPDATE_MOVIE",C="RESET_SELECTED_ID",T="TOGGLE_DELETE_CONFIRM",w="TOGGLE_SET_IS_OPEN",F="TOGGLE_MOVIE_FORM",I="SELECT_FOR_EDIT";function x(){return{type:w}}function D(){return{type:j}}function k(e){return{type:T,payload:{selectedId:e}}}function R(){return{type:F}}function S(e){return{type:M,payload:{movie:e}}}function _(){return{type:C}}function N(e){return{type:I,payload:{selectedId:e}}}function L(e){return{type:O,payload:{movie:e}}}function B(e){return{type:g,payload:{moviesList:e}}}function H(){return{type:y}}var P,A,G="Edit",q="Remove",V="Add",Y="Herolo Cinema",U={navBarTitleContainer:(P={},Object(p.a)(P,"@media (max-width:420px)",{marginLeft:0}),Object(p.a)(P,"marginLeft",20),Object(p.a)(P,"flex",1),P),navBarTitle:{fontSize:28,color:"white",cursor:"pointer"},addButton:(A={},Object(p.a)(A,"@media (max-width:420px)",{marginRight:5}),Object(p.a)(A,"marginRight",35),Object(p.a)(A,"fontSize",25),Object(p.a)(A,"flex",.15),Object(p.a)(A,"color","white"),A)};var X=v()(U)(function(e){var t=e.classes,n=e.toggleMovieForm;return a.a.createElement(h.a,{bg:"inherit"},a.a.createElement(h.a.Brand,{className:t.navBarTitleContainer},a.a.createElement(f.a,{className:t.navBarTitle,variant:"inherit",onClick:function(){window.location.reload()}},Y)),a.a.createElement(f.a,{type:"submit",variant:"inherit",className:t.addButton,onClick:n},V))}),z=Object(b.b)(function(e){return{showMovieForm:e.MovieFormReducer.showMovieForm}},function(e){return Object(E.a)({toggleMovieForm:R},e)})(X),J=n(394),K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleClose=function(){(0,n.props.toggleSetIsOpen)()},n.handleDelete=function(){(0,n.props.removeMovie)(),n.handleClose()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.selectedTitle;return a.a.createElement(J.a,{show:t,onHide:this.handleClose},a.a.createElement(J.a.Header,{closeButton:!0},a.a.createElement(J.a.Title,null,"Confirmation")),a.a.createElement(J.a.Body,null,"You sure you would like to delete ",n,"?"),a.a.createElement(J.a.Footer,null,a.a.createElement(f.a,{variant:"secondary",onClick:this.handleDelete},"Confirm"),a.a.createElement(f.a,{variant:"primary",onClick:this.handleClose},"Cancel")))}}]),t}(r.Component),Q=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.toggleSetIsOpen,r=e.removeMovie,i=e.selectedTitle;return a.a.createElement(K,{isOpen:t,toggleSetIsOpen:n,removeMovie:r,selectedTitle:i})}}]),t}(r.Component);var W=Object(b.b)(function(e){var t=e.MoviesReducer,n=t.selectedIdToDelete,r=t.items,a=e.DeleteConfirmationReducer.isOpen,i=n?r.find(function(e){return e.id===n}):"";return{selectedTitle:i?i.title:"",isOpen:a}},function(e){return Object(E.a)({removeMovie:H,toggleSetIsOpen:x},e)})(Q),Z=n(39),$=n(18),ee=Object($.d)({mapPropsToValues:function(e){var t=e.selectedMovieToEdit;return{title:t.title||"",director:t.director||"",genre:t.genre||"",year:t.year||"",runtime:t.runtime||""}},handleSubmit:function(e,t){var n,r=t.props,a=r.selectedMovieToEdit,i=r.handleClose,o=r.updateMovie,l=r.addMovie,c=r.items,s=t.setErrors,u={title:(n=e.title,n.split(" ").map(function(e){return e=(e=e.replace(/[^\w\s]/gi,"")).charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")),director:e.director,genre:e.genre,year:e.year,runtime:e.runtime};if(""!==u.title){if(a){if(c.find(function(e){return e.title===u.title&&e.id!==a.id}))return void s({title:"This movie is already in the list."})}else if(c.find(function(e){return e.title===u.title}))return void s({title:"This movie is already in the list."});a?(u.id=a.id,o(u)):l(u),i()}else s({title:"Only alphabetic letters and numbers are allowed."})},validationSchema:Z.object().shape({title:Z.string().required("Title - Required"),director:Z.string().required("Director - Required"),genre:Z.string().required("Genre - Required"),year:Z.number("Invalid Year!").required("Year - Required").min(1895).max((new Date).getFullYear()).integer(),runtime:Z.number().positive("Invalid Runtime").required("Runtime - Required")})})(function(e){var t=e.handleClose,n=e.classes;return a.a.createElement($.c,{className:n.form},a.a.createElement("div",null,a.a.createElement($.a,{name:"title"})),a.a.createElement($.b,{className:n.formField,type:"text",name:"title",placeholder:"Title"}),a.a.createElement("div",null,a.a.createElement($.a,{name:"director"})),a.a.createElement($.b,{className:n.formField,type:"text",name:"director",placeholder:"Director"}),a.a.createElement("div",null,a.a.createElement($.a,{name:"genre"})),a.a.createElement($.b,{className:n.formField,type:"text",name:"genre",placeholder:"Genre"}),a.a.createElement("div",null,a.a.createElement($.a,{name:"year"})),a.a.createElement($.b,{className:n.formField,type:"number",name:"year",placeholder:"Year"}),a.a.createElement("div",null,a.a.createElement($.a,{name:"runtime"})),a.a.createElement($.b,{className:n.formField,type:"number",name:"runtime",placeholder:"Runtime"}),a.a.createElement("div",{className:n.buttonsContainer},a.a.createElement(f.a,{className:n.submitButton,name:"submit",type:"submit"}," Submit "),a.a.createElement(f.a,{className:n.cancelButton,onClick:function(){return t()}},"Cancel")))});var te=v()({formField:{width:"80%",marginBottom:20},form:{textAlign:"center"},buttonsContainer:{display:"flex"},submitButton:{flex:"0.3",marginRight:"auto"},cancelButton:{flex:"0.3"}})(ee),ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleClose=function(){n.props.toggleMovieForm(),n.props.resetEditSelectedId()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showMovieForm,n=e.selectedMovieToEdit,r=e.buttonLabel,i=e.addMovie,o=e.updateMovie,l=e.items;return a.a.createElement(J.a,{show:t,onHide:this.handleClose},a.a.createElement(J.a.Header,{center:!0},r),a.a.createElement(J.a.Body,null,a.a.createElement(te,{buttonLabel:r,selectedMovieToEdit:n,handleClose:this.handleClose,addMovie:i,updateMovie:o,items:l})))}}]),t}(r.Component),re=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showMovieForm,n=e.toggleMovieForm,r=e.selectedMovieToEdit,i=e.buttonLabel,o=e.resetEditSelectedId,l=e.addMovie,c=e.updateMovie,s=e.items;return a.a.createElement(ne,{selectedMovieToEdit:r,showMovieForm:t,toggleMovieForm:n,buttonLabel:i,resetEditSelectedId:o,addMovie:l,updateMovie:c,items:s})}}]),t}(r.Component);var ae=Object(b.b)(function(e){var t=e.MovieFormReducer.showMovieForm,n=e.MoviesReducer,r=n.selectedIdToEdit,a=n.items;return r?{selectedMovieToEdit:a.find(function(e){return e.id===r}),resetEditSelectedId:_,showMovieForm:t,buttonLabel:"Edit",items:a}:{selectedMovieToEdit:"",resetEditSelectedId:_,showMovieForm:t,buttonLabel:"Add",items:a}},function(e){return Object(E.a)({toggleMovieForm:R,resetEditSelectedId:_,addMovie:L,updateMovie:S},e)})(re),ie=n(396);var oe=v()({buttonsContainer:{display:"flex"},addButton:{flex:"0.3",background:"black"},editButton:{flex:"0.3",marginRight:"auto",background:"black"},movieCard:{width:"17rem",margin:5}})(function(e){var t=e.movie,n=t.title,r=t.year,i=t.runtime,o=t.genre,l=t.director,c=t.id,s=e.toggleDeleteConfirm,u=e.selectForEdit,d=e.toggleMovieForm,m=e.classes;return a.a.createElement(ie.a,{className:m.movieCard},a.a.createElement(ie.a.Body,null,a.a.createElement(ie.a.Title,null,n),a.a.createElement(ie.a.Text,null,"Director: ",l),a.a.createElement(ie.a.Text,null,"Genre: ",o),a.a.createElement(ie.a.Text,null,"Year: ",r),a.a.createElement(ie.a.Text,null,"Runtime: ",i," minutes"),a.a.createElement("div",{className:m.buttonsContainer},a.a.createElement(f.a,{variant:"dark",className:m.editButton,onClick:function(){return u(c),void d()}},G),a.a.createElement(f.a,{variant:"dark",className:m.addButton,onClick:function(){s(c)}},q))))}),le=n(78),ce=n.n(le),se=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.toggleDeleteConfirm,r=e.selectForEdit,i=e.toggleMovieForm,o=e.classes;return a.a.createElement("div",{className:o.container},0===t.length?a.a.createElement("h1",{className:o.noMoviesText}," ","Add a movie..."," "):a.a.createElement(ce.a,{className:o.moviesCardsContainer},t.map(function(e){return a.a.createElement(oe,{key:e.id,movie:e,toggleDeleteConfirm:n,selectForEdit:r,toggleMovieForm:i})})))}}]),t}(r.Component),ue=v()({container:{margin:"auto"},noMoviesText:{margin:"auto",color:"white"},moviesCardsContainer:{justifyContent:"center"}})(se),de=["Harry Potter and the Sorcerer's Stone","Harry Potter and the Chamber of Secrets","Harry Potter and the Prisoner of Azkaban","Harry Potter and the Goblet of Fire","Harry Potter and the Order of the Phoenix","Harry Potter and the Half-Blood Prince","Harry Potter and the Deathly Hallows \u2013 Part 1","Harry Potter and the Deathly Hallows \u2013 Part 2"],me=n(110),ve=n.n(me),pe=n(179),he="http://www.omdbapi.com/",fe="?t=",be="&apikey=b06899c";function Ee(){return(Ee=Object(pe.a)(ve.a.mark(function e(t){var n,r,a,i,o,l,c;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],r=!0,a=!1,i=void 0,e.prev=6,o=t[Symbol.iterator]();case 8:if(r=(l=o.next()).done){e.next=15;break}return c=l.value,e.next=12,fetch("".concat(he).concat(fe).concat(c).concat(be)).then(function(e){return e.json()}).then(function(e){var t={title:e.Title,director:e.Director,genre:e.Genre,year:e.Year,runtime:e.Runtime};n.push(t)});case 12:r=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),a=!0,i=e.t0;case 21:e.prev=21,e.prev=22,r||null==o.return||o.return();case 24:if(e.prev=24,!a){e.next=27;break}throw i;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}},e,null,[[6,17,21,29],[22,,24,28]])}))).apply(this,arguments)}var Oe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addMoviesList,n=e.toggleIsFetching;n(),function(e){return Ee.apply(this,arguments)}(de).then(function(e){t(e),n()})}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.isFetching,r=e.toggleDeleteConfirm,i=e.selectForEdit,o=e.toggleMovieForm,l=e.classes;return n?a.a.createElement("h1",{className:l.loadingText}," ","Loading Movies..."," "):a.a.createElement(ce.a,null,a.a.createElement(ue,{items:t,toggleDeleteConfirm:r,selectForEdit:i,toggleMovieForm:o}),a.a.createElement(W,null),a.a.createElement(ae,null))}}]),t}(r.Component);var ge=v()({loadingText:{textAlign:"center",color:"white"}})(Oe),ye=Object(b.b)(function(e){var t=e.MoviesReducer;return{items:t.items,isFetching:t.isFetching}},function(e){return Object(E.a)({toggleDeleteConfirm:k,toggleMovieForm:R,selectForEdit:N,addMoviesList:B,toggleIsFetching:D},e)})(ge),je=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",{className:e.root},a.a.createElement(ye,null))}}]),t}(r.Component),Me=v()({root:{height:"calc(100% - 73px)",width:"100%"}})(je),Ce=Object(b.b)(function(e){var t=e.MoviesReducer;return{items:t.items,selectedId:t.selectedId}},function(e){return Object(E.a)({addMovie:L,removeMovie:H},e)})(Me),Te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",{className:e.App},a.a.createElement(z,null),a.a.createElement(Ce,null))}}]),t}(r.Component),we=v()({App:{width:"100%",height:"100%"}})(Te),Fe=(n(389),n(16)),Ie=n(111),xe=n.n(Ie);function De(e){return e.split(" ").map(function(e){return e=(e=e.replace(/[^\w\s]/gi,"")).charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}var ke=Object(E.b)({MoviesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],isFetching:!1,selectedIdToEdit:"",selectedIdToDelete:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=Object(Fe.a)({},t.payload.movie,{title:De(t.payload.movie.title),id:xe()()});return Object(Fe.a)({},e,{items:[].concat(n,e.items)});case g:var r=t.payload.moviesList,a=[],i=!0,o=!1,l=void 0;try{for(var c,s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var u=c.value;a.push(Object(Fe.a)({},u,{title:De(u.title),runtime:u.runtime.replace(/\D/g,""),id:xe()()}))}}catch(d){o=!0,l=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}return Object(Fe.a)({},e,{items:[].concat(a,e.items)});case y:return Object(Fe.a)({},e,{items:e.items.filter(function(t){return t.id!==e.selectedIdToDelete})});case j:return Object(Fe.a)({},e,{isFetching:!e.isFetching});case M:return Object(Fe.a)({},e,{items:e.items.map(function(e){return e.id===t.payload.movie.id?Object(Fe.a)({},e,t.payload.movie,{title:De(t.payload.movie.title)}):e})});case C:return Object(Fe.a)({},e,{selectedIdToEdit:""});case I:return Object(Fe.a)({},e,{selectedIdToEdit:t.payload.selectedId});case T:return Object(Fe.a)({},e,{selectedIdToDelete:t.payload.selectedId});default:return e}},DeleteConfirmationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case w:case T:return Object(Fe.a)({},e,{isOpen:!e.isOpen});default:return e}},MovieFormReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showMovieForm:!1};switch((arguments.length>1?arguments[1]:void 0).type){case F:return Object(Fe.a)({},e,{showMovieForm:!e.showMovieForm});default:return e}}}),Re=Object(E.c)(ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(a.a.createElement(b.a,{store:Re},a.a.createElement(we,null)),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.40e8d397.chunk.js.map